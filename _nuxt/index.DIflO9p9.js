import{_ as ge,a as fe}from"./PageBody.vue.Dl2PKVFY.js";import{aY as G,aZ as me,aS as L,a_ as he,aq as te,a$ as H,b0 as ve,m as pe,k as ie,D as h,d as B,r as T,b1 as ye,o as we,U as q,al as ae,b2 as be,am as D,ao as R,ap as A,b3 as _e,b4 as xe,as as E,a3 as Se,ac as re,b5 as $e,b6 as ze,b7 as V,b8 as je,b as f,c as b,n as S,E as u,ai as $,g as U,aj as z,f as w,e as W,ah as I,w as j,j as F,t as C,F as ne,ag as se,aK as ke,aW as Ie,aP as J,aQ as Oe,aR as Ae,aT as Z,aU as Pe,s as Q}from"./entry.CpF6JYmA.js";const Me={wrapper:"inline-flex flex-row-reverse justify-end",ring:"ring-2 ring-white dark:ring-gray-900",margin:"-me-1.5 first:me-0"};async function We(e,t){return await Be(t).catch(i=>(console.error("Failed to get image meta for "+t,i+""),{width:0,height:0,ratio:0}))}async function Be(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const i=new Image;i.onload=()=>{const r={width:i.width,height:i.height,ratio:i.width/i.height};t(r)},i.onerror=r=>a(r),i.src=e})}function X(e){return t=>t?e[t]||t:e.missingValue}function oe({formatter:e,keyMap:t,joinWith:a="/",valueMap:i}={}){e||(e=(n,o)=>`${n}=${o}`),t&&typeof t!="function"&&(t=X(t));const r=i||{};return Object.keys(r).forEach(n=>{typeof r[n]!="function"&&(r[n]=X(r[n]))}),(n={})=>Object.entries(n).filter(([c,s])=>typeof s<"u").map(([c,s])=>{const d=r[c];return typeof d=="function"&&(s=d(n[c])),c=typeof t=="function"?t(c):c,e(c,s)}).join(a)}function _(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return parseInt(e,10)}function Ne(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const i=parseInt(a.replace("x",""));i&&t.add(i)}return Array.from(t)}function Ue(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Ce(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(i=>i)){const i=a.split(":");i.length!==2?t["1px"]=i[0].trim():t[i[0].trim()]=i[1].trim()}else Object.assign(t,e);return t}function Le(e){const t={options:e},a=(r,n={})=>le(t,r,n),i=(r,n={},o={})=>a(r,{...o,modifiers:te(n,o.modifiers||{})}).url;for(const r in e.presets)i[r]=(n,o,c)=>i(n,o,{...e.presets[r],...c});return i.options=e,i.getImage=a,i.getMeta=(r,n)=>De(t,r,n),i.getSizes=(r,n)=>Re(t,r,n),t.$img=i,i}async function De(e,t,a){const i=le(e,t,{...a});return typeof i.getMeta=="function"?await i.getMeta():await We(e,i.url)}function le(e,t,a){var d,g;if(typeof t!="string"||t==="")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(t.startsWith("data:"))return{url:t};const{provider:i,defaults:r}=qe(e,a.provider||e.options.provider),n=Ee(e,a.preset);if(t=G(t)?t:me(t),!i.supportsAlias)for(const v in e.options.alias)t.startsWith(v)&&(t=L(e.options.alias[v],t.substr(v.length)));if(i.validateDomains&&G(t)){const v=he(t).host;if(!e.options.domains.find(m=>m===v))return{url:t}}const o=te(a,n,r);o.modifiers={...o.modifiers};const c=o.modifiers.format;(d=o.modifiers)!=null&&d.width&&(o.modifiers.width=_(o.modifiers.width)),(g=o.modifiers)!=null&&g.height&&(o.modifiers.height=_(o.modifiers.height));const s=i.getImage(t,o,e);return s.format=s.format||c||"",s}function qe(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function Ee(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Re(e,t,a){var p,P,M,k,N;const i=_((p=a.modifiers)==null?void 0:p.width),r=_((P=a.modifiers)==null?void 0:P.height),n=Ce(a.sizes),o=(M=a.densities)!=null&&M.trim()?Ne(a.densities.trim()):e.options.densities;Ue(o);const c=i&&r?r/i:0,s=[],d=[];if(Object.keys(n).length>=1){for(const y in n){const x=Y(y,String(n[y]),r,c,e);if(x!==void 0){s.push({size:x.size,screenMaxWidth:x.screenMaxWidth,media:`(max-width: ${x.screenMaxWidth}px)`});for(const O of o)d.push({width:x._cWidth*O,src:K(e,t,a,x,O)})}}Ge(s)}else for(const y of o){const x=Object.keys(n)[0];let O=Y(x,String(n[x]),r,c,e);O===void 0&&(O={size:"",screenMaxWidth:0,_cWidth:(k=a.modifiers)==null?void 0:k.width,_cHeight:(N=a.modifiers)==null?void 0:N.height}),d.push({width:y,src:K(e,t,a,O,y)})}He(d);const g=d[d.length-1],v=s.length?s.map(y=>`${y.media?y.media+" ":""}${y.size}`).join(", "):void 0,m=v?"w":"x",l=d.map(y=>`${y.src} ${y.width}${m}`).join(", ");return{sizes:v,srcset:l,src:g==null?void 0:g.src}}function Y(e,t,a,i,r){const n=r.options.screens&&r.options.screens[e]||parseInt(e),o=t.endsWith("vw");if(!o&&/^\d+$/.test(t)&&(t=t+"px"),!o&&!t.endsWith("px"))return;let c=parseInt(t);if(!n||!c)return;o&&(c=Math.round(c/100*n));const s=i?Math.round(c*i):a;return{size:t,screenMaxWidth:n,_cWidth:c,_cHeight:s}}function K(e,t,a,i,r){return e.$img(t,{...a.modifiers,width:i._cWidth?i._cWidth*r:void 0,height:i._cHeight?i._cHeight*r:void 0},a)}function Ge(e){var a;e.sort((i,r)=>i.screenMaxWidth-r.screenMaxWidth);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.media===t&&e.splice(i,1),t=r.media}for(let i=0;i<e.length;i++)e[i].media=((a=e[i+1])==null?void 0:a.media)||""}function He(e){e.sort((a,i)=>a.width-i.width);let t=null;for(let a=e.length-1;a>=0;a--){const i=e[a];i.width===t&&e.splice(a,1),t=i.width}}const ce=oe({keyMap:{width:"w",height:"h",quality:"q"},joinWith:"&",formatter:(e,t)=>`${e}=${t}`}),Te=(e,{modifiers:t={}}={})=>{const a=ce(t);return{url:L(e+(a?"?"+a:""))}},Ve=Object.freeze(Object.defineProperty({__proto__:null,getImage:Te,operationsGenerator:ce},Symbol.toStringTag,{value:"Module"})),Fe=oe({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>H(e)+"_"+H(t)}),Je=(e,{modifiers:t={},baseURL:a}={},i)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const r=Fe(t)||"_";return a||(a=L(i.options.nuxt.baseURL,"/_ipx")),{url:L(a,r,ve(e))}},Ze=!0,Qe=!0,Xe=Object.freeze(Object.defineProperty({__proto__:null,getImage:Je,supportsAlias:Qe,validateDomains:Ze},Symbol.toStringTag,{value:"Module"})),de={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};de.providers={caisy:{provider:Ve,defaults:{}},ipxStatic:{provider:Xe,defaults:{}}};const ue=()=>{const e=pe(),t=ie();return t.$img||t._img||(t._img=Le({...de,nuxt:{baseURL:e.app.baseURL}}))},Ye={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Ke=e=>{const t=h(()=>({provider:e.provider,preset:e.preset})),a=h(()=>({width:_(e.width),height:_(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),i=ue(),r=h(()=>({...e.modifiers,width:_(e.width),height:_(e.height),format:e.format,quality:e.quality||i.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:r}},et={...Ye,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},tt=B({name:"NuxtImg",props:et,emits:["load","error"],setup:(e,t)=>{const a=ue(),i=Ke(e),r=T(!1),n=h(()=>a.getSizes(e.src,{...i.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...i.modifiers.value,width:_(e.width),height:_(e.height)}})),o=h(()=>{const l={...i.attrs.value,"data-nuxt-img":""};return(!e.placeholder||r.value)&&(l.sizes=n.value.sizes,l.srcset=n.value.srcset),l}),c=h(()=>{let l=e.placeholder;if(l===""&&(l=!0),!l||r.value)return!1;if(typeof l=="string")return l;const p=Array.isArray(l)?l:typeof l=="number"?[l,l]:[10,10];return a(e.src,{...i.modifiers.value,width:p[0],height:p[1],quality:p[2]||50,blur:p[3]||3},i.options.value)}),s=h(()=>e.sizes?n.value.src:a(e.src,i.modifiers.value,i.options.value)),d=h(()=>c.value?c.value:s.value);if(e.preload){const l=Object.values(n.value).every(p=>p);ye({link:[{rel:"preload",as:"image",nonce:e.nonce,...l?{href:n.value.src,imagesizes:n.value.sizes,imagesrcset:n.value.srcset}:{href:d.value}}]})}const g=T(),m=ie().isHydrating;return we(()=>{if(c.value){const l=new Image;l.src=s.value,e.sizes&&(l.sizes=n.value.sizes||"",l.srcset=n.value.srcset),l.onload=p=>{r.value=!0,t.emit("load",p)};return}g.value&&(g.value.complete&&m&&(g.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),g.value.onload=l=>{t.emit("load",l)},g.value.onerror=l=>{t.emit("error",l)})}),()=>q("img",{ref:g,src:d.value,...o.value,...t.attrs})}}),ee=ae(D.ui.strategy,D.ui.avatar,be),it=ae(D.ui.strategy,D.ui.avatarGroup,Me),at=B({inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},max:{type:Number,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:t}){const{ui:a,attrs:i}=R("avatarGroup",A(e,"ui"),it,A(e,"class")),r=h(()=>_e(t)),n=h(()=>typeof e.max=="string"?parseInt(e.max,10):e.max),o=h(()=>r.value.map((c,s)=>{const d={};return!e.max||n.value&&s<n.value?(e.size&&(d.size=e.size),d.class=c.props.class||"",d.class=xe(E(d.class,a.value.ring,a.value.margin),d.class),Se(c,d)):n.value!==void 0&&s===n.value?q(re,{size:e.size||ee.default.size,text:`+${r.value.length-n.value}`,class:E(a.value.ring,a.value.margin)}):null}).filter(Boolean).reverse());return()=>q("div",{class:a.value.wrapper,...i.value},o.value)}}),rt=W("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),nt=W("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),st=["datetime"],ot=B({inheritAttrs:!1,__name:"BlogPost",props:{...$e,title:{type:String,default:void 0},description:{type:String,default:void 0},date:{type:[String,Date],default:void 0},image:{type:[String,Object],default:void 0},badge:{type:Object,default:void 0},authors:{type:Array,default:void 0},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=ze(),a=e,i=h(()=>({wrapper:E("relative group flex flex-col w-full gap-y-6",a.orientation==="horizontal"&&(a.image||t.image)?"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-center":void 0),image:{wrapper:"ring-1 ring-gray-200 dark:ring-gray-800 relative overflow-hidden aspect-[16/9] w-full rounded-lg pointer-events-none",base:"object-cover object-top w-full h-full transform transition-transform duration-200 group-hover:scale-105"},container:"flex flex-col justify-between flex-1",inner:"flex-1",badge:{wrapper:"mb-3",base:""},title:"text-gray-900 dark:text-white text-xl font-semibold truncate group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200",description:"text-base text-gray-500 dark:text-gray-400 mt-1",date:"text-sm text-gray-500 dark:text-gray-400 font-medium pointer-events-none",authors:{wrapper:"relative flex items-center gap-x-3 mt-4",avatar:{base:"relative ring-1 lg:hover:scale-105 lg:hover:ring-primary-500 dark:lg:hover:ring-primary-400 transition-transform",size:"xs"}}})),{ui:r,attrs:n}=R("blog.post",A(a,"ui"),i,A(a,"class"),!0),o=h(()=>V(a)),c=h(()=>(a.title||t.title&&je(t.title())||"Post link").trim());return(s,d)=>{var P;const g=tt,v=ke,m=Ie,l=re,p=at;return f(),b("article",z({class:u(r).wrapper},u(n)),[e.image||s.$slots.image?(f(),b("div",{key:0,class:S(u(r).image.wrapper)},[$(s.$slots,"image",{},()=>[U(g,z(typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:u(r).image.base}),null,16,["class"])])],2)):w("",!0),W("div",{class:S(u(r).container)},[W("div",{class:S(u(r).inner)},[s.to?(f(),I(v,z({key:0,"aria-label":u(c)},u(o),{class:"focus:outline-none",tabindex:"-1"}),{default:j(()=>[rt]),_:1},16,["aria-label"])):w("",!0),e.badge||s.$slots.badge?(f(),b("div",{key:1,class:S(u(r).badge.wrapper)},[$(s.$slots,"badge",{},()=>[e.badge?(f(),I(m,z({key:0},{variant:"subtle",...e.badge},{class:u(r).badge.base}),null,16,["class"])):w("",!0)])],2)):w("",!0),e.title||s.$slots.title?(f(),b("h2",{key:2,class:S(u(r).title)},[$(s.$slots,"title",{},()=>[F(C(e.title),1)])],2)):w("",!0),e.description||s.$slots.description?(f(),b("p",{key:3,class:S(u(r).description)},[$(s.$slots,"description",{},()=>[F(C(e.description),1)])],2)):w("",!0),$(s.$slots,"default")],2),(P=e.authors)!=null&&P.length||e.date?(f(),b("div",{key:0,class:S(u(r).authors.wrapper)},[$(s.$slots,"authors",{},()=>{var M;return[(M=e.authors)!=null&&M.length?(f(),I(p,{key:0},{default:j(()=>[(f(!0),b(ne,null,se(e.authors,(k,N)=>(f(),I(l,z({key:N,alt:k.name,class:u(r).authors.avatar.base},{size:u(r).authors.avatar.size,...k.avatar}),{default:j(()=>[k.to?(f(),I(v,z({key:0},{target:"_blank",...u(V)(k)},{class:"focus:outline-none",tabindex:"-1"}),{default:j(()=>[nt]),_:2},1040)):w("",!0)]),_:2},1040,["alt","class"]))),128))]),_:1})):w("",!0)]}),$(s.$slots,"date",{},()=>[e.date?(f(),b("time",{key:0,datetime:new Date(e.date).toISOString(),class:S(u(r).date)},C(e.date),11,st)):w("",!0)])],2)):w("",!0)],2)],16)}}}),lt=B({inheritAttrs:!1,__name:"BlogList",props:{orientation:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t=e,a=h(()=>({wrapper:{horizontal:"flex flex-col lg:grid lg:grid-cols-3 gap-x-8 gap-y-16",vertical:"flex flex-col gap-y-16 w-full"}[t.orientation]})),{ui:i,attrs:r}=R("blog.list",A(t,"ui"),a,A(t,"class"),!0);return(n,o)=>(f(),b("div",z({class:u(i).wrapper},u(r)),[$(n.$slots,"default")],16))}}),ct=["datetime"],gt=B({__name:"index",async setup(e){let t,a;const{data:i}=([t,a]=J(()=>Z("blog",()=>Q("/blog").findOne())),t=await t,a(),t);if(!i.value)throw Oe({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:r}=([t,a]=J(()=>Z("posts",()=>Q("/blog").where({_extension:"md"}).sort({date:-1}).find())),t=await t,a(),t);return Ae({title:i.value.title,ogTitle:i.value.title,description:i.value.description,ogDescription:i.value.description}),(n,o)=>{const c=ge,s=ot,d=lt,g=fe,v=Pe;return f(),I(v,null,{default:j(()=>[U(c,z(u(i),{class:"py-[50px]"}),null,16),U(g,null,{default:j(()=>[U(d,null,{default:j(()=>[(f(!0),b(ne,null,se(u(r),(m,l)=>(f(),I(s,{key:l,to:m._path,title:m.title,description:m.description,image:m.image,authors:m.authors,badge:m.badge,orientation:l===0?"horizontal":"vertical",class:S([l===0&&"col-span-full"]),ui:{description:"line-clamp-2"}},{date:j(()=>[W("time",{datetime:new Date(m.date).toISOString(),class:"text-sm text-gray-500 dark:text-gray-400 font-medium pointer-events-none"},C(new Date(m.date).toLocaleDateString("cs",{year:"numeric",month:"long",day:"numeric"})),9,ct)]),_:2},1032,["to","title","description","image","authors","badge","orientation","class"]))),128))]),_:1})]),_:1})]),_:1})}}});export{gt as default};
