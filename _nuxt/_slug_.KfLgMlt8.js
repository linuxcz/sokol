import{d as U,ao as j,ap as b,b as c,ah as k,w as h,c as m,n as p,E as t,g as y,f as _,e as v,t as S,aj as $,ab as D,aK as J,r as I,H as Y,aL as Z,aM as tt,u as et,F as V,ag as M,aN as nt,k as q,y as at,D as ot,ai as B,aO as rt,v as st,aP as H,aQ as it,aR as E,aS as N,aT as P,aU as ct,s as R,aV as lt,aW as ut,aX as dt,j as pt,ac as gt,an as mt}from"./entry.BU9lu3E0.js";import{_ as yt,a as _t}from"./PageBody.vue.BSe5j8Q5.js";import ft from"./ContentRenderer.BHmlvdnW.js";import"./ContentRendererMarkdown.vue.CDLg5yf5.js";import"./index.BsYmvPZw.js";const ht=U({inheritAttrs:!1,__name:"ContentSurroundLink",props:{link:{type:Object,required:!0},icon:{type:String,default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const a={wrapper:"block px-6 py-8 border not-prose rounded-lg border-gray-200 dark:border-gray-800 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 group",icon:{wrapper:"inline-flex items-center rounded-full p-1.5 bg-gray-100 dark:bg-gray-800 group-hover:bg-primary/10 ring-1 ring-gray-300 dark:ring-gray-700 mb-4 group-hover:ring-primary/50",base:"w-5 h-5 text-gray-900 dark:text-white group-hover:text-primary"},title:"font-medium text-gray-900 dark:text-white text-[15px] mb-1",description:"text-sm font-normal text-gray-500 dark:text-gray-400 line-clamp-2"},r=n,{ui:o,attrs:e}=j("docs.surround.link",b(r,"ui"),a,b(r,"class"),!0);return(s,i)=>{const u=D,d=J;return c(),k(d,$({to:n.link._path,class:t(o).wrapper},t(e)),{default:h(()=>[n.icon||n.link.icon?(c(),m("div",{key:0,class:p(t(o).icon.wrapper)},[y(u,{name:n.icon||n.link.icon,class:p(t(o).icon.base)},null,8,["name","class"])],2)):_("",!0),v("p",{class:p(t(o).title)},S(n.link.title),3),v("p",{class:p(t(o).description)},S(n.link.description),3)]),_:1},16,["to","class"])}}}),kt={key:1,class:"hidden sm:block"},bt=U({inheritAttrs:!1,__name:"ContentSurround",props:{surround:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const a={wrapper:"grid gap-8 sm:grid-cols-2",icon:{prev:"i-heroicons-arrow-left-20-solid",next:"i-heroicons-arrow-right-20-solid"},link:{}},r=n,{ui:o,attrs:e}=j("docs.surround",b(r,"ui"),a,b(r,"class"),!0),[s,i]=r.surround||[];return(u,d)=>{const l=ht;return c(),m("div",$({class:t(o).wrapper},t(e)),[t(s)?(c(),k(l,{key:0,link:t(s),ui:t(o).link,icon:t(o).icon.prev},null,8,["link","ui","icon"])):(c(),m("span",kt," ")),t(i)?(c(),k(l,{key:2,link:t(i),ui:t(o).link,icon:t(o).icon.next,class:"text-right"},null,8,["link","ui","icon"])):_("",!0)],16)}}}),vt=()=>{const n=I(),a=I([]),r=I([]),o=s=>{s.forEach(i=>{const u=i.target.id;i.isIntersecting?a.value=[...a.value,u]:a.value=a.value.filter(d=>d!==u)})},e=s=>{s.forEach(i=>{n.value&&n.value.observe(i)})};return Y(a,(s,i)=>{s.length===0?r.value=i:r.value=s}),Z(()=>n.value=new IntersectionObserver(o)),tt(()=>{var s;return(s=n.value)==null?void 0:s.disconnect()}),{visibleHeadings:a,activeHeadings:r,updateHeadings:e}},xt=["href","onClick"],z=U({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(n,{emit:a}){const r={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},o=n,e=a,s=et(),i=q(),{activeHeadings:u,updateHeadings:d}=vt(),{ui:l,attrs:C}=j("docs.toc.links",b(o,"ui"),r,b(o,"class"),!0);i.hooks.hookOnce("page:finish",()=>{d([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const f=x=>{const A=encodeURIComponent(x);s.push(`#${A}`),e("move",x)};return(x,A)=>{var O;const L=z;return(O=n.links)!=null&&O.length?(c(),m("ul",$({key:0,class:t(l).wrapper},t(C)),[(c(!0),m(V,null,M(n.links,g=>(c(),m("li",{key:g.text,class:p([t(l).wrapper,g.depth===3&&t(l).depth])},[v("a",{href:`#${g.id}`,class:p([t(l).base,t(u).includes(g.id)?t(l).active:t(l).inactive]),onClick:nt(T=>f(g.id),["prevent"])},S(g.text),11,xt),g.children?(c(),k(L,{key:0,links:g.children},null,8,["links"])):_("",!0)],2))),128))],16)):_("",!0)}}}),wt=U({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const a=at(),r=ot(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:a.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),o=n,{ui:e,attrs:s}=j("docs.toc",b(o,"ui"),r,b(o,"class"),!0),i=I(!1);return(u,d)=>{var f,x;const l=D,C=z;return c(),m("nav",$({class:t(e).wrapper},t(s)),[v("div",{class:p([(f=n.links)!=null&&f.length?t(e).container.base:t(e).container.empty])},[B(u.$slots,"top"),(x=n.links)!=null&&x.length?(c(),m("button",{key:0,class:p(t(e).button.base),tabindex:"-1",onClick:d[0]||(d[0]=A=>i.value=!t(i))},[v("span",{class:p(t(e).button.label)},S(n.title),3),y(l,{name:t(e).button.trailingIcon.name,class:p(["lg:!hidden",[t(e).button.trailingIcon.base,t(i)?t(e).button.trailingIcon.active:t(e).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):_("",!0),y(C,{links:n.links,ui:t(e).links,class:p([t(i)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),B(u.$slots,"bottom")],2)],16)}}});function Ct(n){let a;return a=q().$nuxtSiteConfig.get(n),Object.entries(a).forEach(([r,o])=>{a[r]=rt(o)}),a}const St=v("span",{class:"text-gray-500 dark:text-gray-400"},"·",-1),$t={class:"text-gray-500 dark:text-gray-400"},At={class:"flex flex-wrap items-center gap-3 mt-4"},Ut={key:1},Bt=U({__name:"[slug]",async setup(n){var d,l,C;let a,r;const o=st(),{data:e}=([a,r]=H(()=>P(o.path,()=>R(o.path).findOne(),"$LEmP2wQsop")),a=await a,r(),a);if(!e.value)throw it({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:s}=([a,r]=H(()=>P(`${o.path}-surround`,()=>R("/blog").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(lt(o.path)),{default:()=>[]})),a=await a,r(),a),i=((d=e.value.head)==null?void 0:d.title)||e.value.title,u=((l=e.value.head)==null?void 0:l.description)||e.value.description;if(E({title:i,ogTitle:i,description:u,ogDescription:u}),(C=e.value.image)!=null&&C.src){const f=Ct();E({ogImage:N(f.url,e.value.image.src),twitterImage:N(f.url,e.value.image.src)})}return(f,x)=>{const A=ut,L=gt,O=mt,g=yt,T=ft,F=bt,Q=_t,K=wt,W=dt,X=ct;return t(e)?(c(),k(X,{key:0},{default:h(()=>[y(g,{title:t(e).title,description:t(e).description},{headline:h(()=>[y(A,$(t(e).badge,{variant:"subtle"}),null,16),St,v("time",$t,S(new Date(t(e).date).toLocaleDateString("cs",{year:"numeric",month:"short",day:"numeric"})),1)]),default:h(()=>[v("div",At,[(c(!0),m(V,null,M(t(e).authors,(w,G)=>(c(),k(O,{key:G,to:w.to,color:"white",target:"_blank",size:"sm"},{default:h(()=>[y(L,$(w.avatar,{alt:w.name,size:"2xs"}),null,16,["alt"]),pt(" "+S(w.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),y(W,null,{right:h(()=>[t(e).body&&t(e).body.toc?(c(),k(K,{key:0,links:t(e).body.toc.links,title:"Osnova"},null,8,["links"])):_("",!0)]),default:h(()=>[y(Q,{prose:""},{default:h(()=>{var w;return[t(e)&&t(e).body?(c(),k(T,{key:0,value:t(e)},null,8,["value"])):_("",!0),(w=t(s))!=null&&w.length?(c(),m("hr",Ut)):_("",!0),y(F,{surround:t(s)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):_("",!0)}}});export{Bt as default};
